# Regresstion Test Folder
This folder contains scripts to run regression tests for MVAU Batch and Stream Units. It also
contains spreadsheets storing data generated by running regression tests.

Details of the files are as follows:

## MVAU Batch Regression Test Script: regtest_mvau.py
This is self contained script only need one command line argument for the output file name.
This file can be used to run HLS and RTL simulation and synthesis and generates an output
file that contains the performance parameters of HLS and RTL.

Proper error handling is implemented to catch any simulation or synthesis error and gracefully
exit. The script also gracefully handles Ctrl+C and dumps performanc data extracted upto that point

To run, say the following on the terminal:

- python regtest_mvau.py -o <Output Excel File>

Values of various parameters can be modified from within the script.

## MVAU Stream Regression Test Script: regtest_mvau_stream.py
This is self contained script only need one command line argument for the output file name.
This file can be used to run HLS and RTL simulation and synthesis and generates an output
file that contains the performance parameters of HLS and RTL.

Proper error handling is implemented to catch any simulation or synthesis error and gracefully
exit. The script also gracefully handles Ctrl+C and dumps performanc data extracted upto that point

To run, say the following on the terminal:

- python regtest_mvau.py -o <Output Excel File>

Values of various parameters can be modified from within the script.

## MVAU Batch RTL Simulation and Synthesis Scripts: test_mvau_<std/xnor/binwgt>_rtl.sh
A shell script which handles RTL simulation and synthesis by calling respective scripts from
the simulation and synthesis folders. It can also be used to generate and run post-synthesis
simulation for further verification.

This script can be run with default arguments or explicit command line arguments. The arguments are:
- IFM channels
- IFM dimensions
- OFM channels
- Kernel dimensions
- Input precision
- Binary or Fixed point input
- Weight precision
- Binary or Fixed point weight precision
- Output precision
- Number of SIMD blocks per PE
- Number of PEs

## MVAU Stream RTL Simulation and Synthesis Scripts: test_mvau_stream_<std/xnor/binwgt>_rtl.sh
A shell script which handles RTL simulation and synthesis by calling respective scripts from
the simulation and synthesis folders. It can also be used to generate and run post-synthesis
simulation for further verification.

This script can be run with default arguments or explicit command line arguments. The arguments are:
- IFM channels
- IFM dimensions
- OFM channels
- Kernel dimensions
- Input precision
- Binary or Fixed point input
- Weight precision
- Binary or Fixed point weight precision
- Output precision
- Number of SIMD blocks per PE
- Number of PEs